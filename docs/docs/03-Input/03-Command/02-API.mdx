---
slug: /input/commandinput/api
---

<div class="api">

# commandinput

```go
import "github.com/aschey/bubbleprompt/input/commandinput"
```

Package commandinput provides an implementation of the [input.Input](/input/api#type-input) interface.
It should be used to build interactive CLI applications.

<details><summary>Example</summary>
<p>

```go
package main

import (
	"fmt"
	"os"
	"strconv"

	prompt "github.com/aschey/bubbleprompt"
	"github.com/aschey/bubbleprompt/completer"
	"github.com/aschey/bubbleprompt/executor"
	"github.com/aschey/bubbleprompt/input/commandinput"
	"github.com/aschey/bubbleprompt/suggestion"
	tea "github.com/charmbracelet/bubbletea"
	"github.com/charmbracelet/lipgloss"
)

type cmdMetadata struct {
	commandinput.CmdMetadata
	children []suggestion.Suggestion[cmdMetadata]
}

type secretMsg string

func (c cmdMetadata) Children() []suggestion.Suggestion[cmdMetadata] {
	return c.children
}

type model struct {
	suggestions        []suggestion.Suggestion[cmdMetadata]
	textInput          *commandinput.Model[cmdMetadata]
	secret             string
	executorValueStyle lipgloss.Style
}

func (m model) Complete(promptModel prompt.Model[cmdMetadata]) ([]suggestion.Suggestion[cmdMetadata], error) {
	parsed := m.textInput.ParsedValue()
	completed := m.textInput.CompletedArgsBeforeCursor()
	if len(completed) == 1 && parsed.Command.Value == "get" && parsed.Args[0].Value == "weather" {
		flags := []commandinput.FlagInput{
			{
				Short:       "d",
				Long:        "days",
				Placeholder: m.textInput.NewFlagPlaceholder("<int>"),
				Description: "Forecast days",
			},
		}
		return m.textInput.FlagSuggestions(m.textInput.CurrentTokenBeforeCursor(), flags, nil), nil
	}
	return completer.GetRecursiveSuggestions(m.textInput.Tokens(), m.textInput.CursorIndex(), m.suggestions), nil
}

func (m model) Execute(input string, promptModel *prompt.Model[cmdMetadata]) (tea.Model, error) {
	parsed := m.textInput.ParsedValue()
	args := parsed.Args
	flags := parsed.Flags
	if len(args) == 0 {
		return nil, fmt.Errorf("1 argument required")
	}
	arg := args[0]
	switch parsed.Command.Value {
	case "get":
		switch arg.Value {
		case "weather":
			days := "1"
			if len(flags) > 0 {
				flag := flags[0]
				if flag.Name.Value == "-d" || flag.Name.Value == "--days" {
					if flag.Value == nil {
						return nil, fmt.Errorf("flag value required")
					}
					_, err := strconv.ParseInt(flag.Value.Value, 10, 64)
					if err != nil {
						return nil, fmt.Errorf("flag value must be a valid int")
					}
					days = flag.Value.Value
				}
			}
			days = m.executorValueStyle.Render(days)
			value := m.executorValueStyle.Render("cloudy with a chance of meatballs")
			return executor.NewStringModel(fmt.Sprintf("weather for the next %s day(s) is: %s", days, value)), nil
		case "secret":
			return executor.NewStringModel("the secret is: " + m.executorValueStyle.Render(m.secret)), nil
		}
	case "set":
		switch arg.Value {
		case "secret":
			if len(args) < 2 {
				return nil, fmt.Errorf("secret value required")
			}
			secretVal := args[1]

			return executor.NewCmdModel("Secret updated", func() tea.Msg {
				return secretMsg(secretVal.Unquote())
			}), nil
		}
	}
	return nil, fmt.Errorf("Invalid input")
}

func (m model) Update(msg tea.Msg) (prompt.InputHandler[cmdMetadata], tea.Cmd) {
	if msg, ok := msg.(secretMsg); ok {
		m.secret = string(msg)
	}
	return m, nil
}

func main() {
	textInput := commandinput.New[cmdMetadata]()
	secretArgs := textInput.NewPositionalArgs("<secret value>")
	secretArgs[0].ArgStyle = lipgloss.NewStyle().Foreground(lipgloss.Color("6"))

	commandMetadata := commandinput.MetadataFromPositionalArgs(textInput.NewPositionalArg("<command>"))

	suggestions := []suggestion.Suggestion[cmdMetadata]{
		{
			Text:        "get",
			Description: "retrieve things",
			Metadata: cmdMetadata{
				CmdMetadata: commandMetadata,
				children: []suggestion.Suggestion[cmdMetadata]{
					{
						Text:        "secret",
						Description: "get the secret",
						Metadata: cmdMetadata{
							CmdMetadata: commandinput.CmdMetadata{Level: 1},
						},
					},
					{
						Text:        "weather",
						Description: "get the weather",
						Metadata: cmdMetadata{
							CmdMetadata: commandinput.CmdMetadata{
								Level:               1,
								ShowFlagPlaceholder: true,
							},
						},
					},
				},
			},
		},
		{
			Text:        "set",
			Description: "update things",
			Metadata: cmdMetadata{
				CmdMetadata: commandMetadata,
				children: []suggestion.Suggestion[cmdMetadata]{
					{
						Text:        "secret",
						Description: "update the secret",
						Metadata: cmdMetadata{
							CmdMetadata: commandinput.CmdMetadata{
								Level:          1,
								PositionalArgs: secretArgs,
							},
						},
					},
				},
			},
		},
	}
	model := model{
		suggestions:        suggestions,
		textInput:          textInput,
		secret:             "hunter2",
		executorValueStyle: lipgloss.NewStyle().Foreground(lipgloss.Color("13")),
	}

	promptModel := prompt.New[cmdMetadata](
		model,
		textInput,
	)

	if _, err := tea.NewProgram(promptModel, tea.WithFilter(prompt.MsgFilter)).Run(); err != nil {
		fmt.Printf("Could not start program\n%v\n", err)
		os.Exit(1)
	}
}
```

</p>
</details>

## Index

- [Variables](<#variables>)
- [type Arg](<#type-arg>)
- [type CmdMetadata](<#type-cmdmetadata>)
  - [func MetadataFromPositionalArgs(positionalArgs ...PositionalArg) CmdMetadata](<#func-metadatafrompositionalargs>)
  - [func \(m CmdMetadata\) GetFlagPlaceholder\(\) FlagPlaceholder](<#func-cmdmetadata-getflagplaceholder>)
  - [func \(m CmdMetadata\) GetLevel\(\) int](<#func-cmdmetadata-getlevel>)
  - [func \(m CmdMetadata\) GetPositionalArgs\(\) \[\]PositionalArg](<#func-cmdmetadata-getpositionalargs>)
  - [func \(m CmdMetadata\) GetPreservePlaceholder\(\) bool](<#func-cmdmetadata-getpreserveplaceholder>)
  - [func \(m CmdMetadata\) GetShowFlagPlaceholder\(\) bool](<#func-cmdmetadata-getshowflagplaceholder>)
- [type CmdMetadataAccessor](<#type-cmdmetadataaccessor>)
- [type Flag](<#type-flag>)
- [type FlagFormatter](<#type-flagformatter>)
- [type FlagInput](<#type-flaginput>)
  - [func \(f FlagInput\) LongFlag\(\) string](<#func-flaginput-longflag>)
  - [func \(f FlagInput\) RequiresArg\(\) bool](<#func-flaginput-requiresarg>)
  - [func \(f FlagInput\) ShortFlag\(\) string](<#func-flaginput-shortflag>)
- [type FlagPlaceholder](<#type-flagplaceholder>)
- [type FlagValueFormatter](<#type-flagvalueformatter>)
- [type Formatters](<#type-formatters>)
  - [func DefaultFormatters() Formatters](<#func-defaultformatters>)
- [type Model](<#type-model>)
  - [func New[T CmdMetadataAccessor](opts ...Option[T]) *Model[T]](<#func-new>)
  - [func \(m Model\[T\]\) AllTokensBeforeCursor\(\) \[\]input.Token](<#func-modelt-alltokensbeforecursor>)
  - [func \(m Model\[T\]\) AllValues\(\) \[\]string](<#func-modelt-allvalues>)
  - [func \(m Model\[T\]\) AllValuesBeforeCursor\(\) \[\]string](<#func-modelt-allvaluesbeforecursor>)
  - [func \(m \*Model\[T\]\) ArgsBeforeCursor\(\) \[\]string](<#func-modelt-argsbeforecursor>)
  - [func \(m \*Model\[T\]\) Blur\(\)](<#func-modelt-blur>)
  - [func \(m \*Model\[T\]\) CommandBeforeCursor\(\) string](<#func-modelt-commandbeforecursor>)
  - [func \(m Model\[T\]\) CommandCompleted\(\) bool](<#func-modelt-commandcompleted>)
  - [func \(m \*Model\[T\]\) CompletedArgsBeforeCursor\(\) \[\]string](<#func-modelt-completedargsbeforecursor>)
  - [func \(m Model\[T\]\) CurrentToken\(\) string](<#func-modelt-currenttoken>)
  - [func \(m Model\[T\]\) CurrentTokenBeforeCursor\(\) string](<#func-modelt-currenttokenbeforecursor>)
  - [func \(m Model\[T\]\) CurrentTokenBeforeCursorRoundDown\(\) string](<#func-modelt-currenttokenbeforecursorrounddown>)
  - [func \(m Model\[T\]\) CurrentTokenPos\(\) TokenPos](<#func-modelt-currenttokenpos>)
  - [func \(m Model\[T\]\) CurrentTokenPosRoundDown\(\) TokenPos](<#func-modelt-currenttokenposrounddown>)
  - [func \(m Model\[T\]\) CurrentTokenRoundDown\(\) string](<#func-modelt-currenttokenrounddown>)
  - [func \(m Model\[T\]\) CursorIndex\(\) int](<#func-modelt-cursorindex>)
  - [func \(m Model\[T\]\) CursorOffset\(\) int](<#func-modelt-cursoroffset>)
  - [func \(m \*Model\[T\]\) FlagSuggestions\(inputStr string, flags \[\]FlagInput, suggestionFunc func\(FlagInput\) T\) \[\]suggestion.Suggestion\[T\]](<#func-modelt-flagsuggestions>)
  - [func \(m \*Model\[T\]\) Focus\(\) tea.Cmd](<#func-modelt-focus>)
  - [func \(m Model\[T\]\) Focused\(\) bool](<#func-modelt-focused>)
  - [func \(m Model\[T\]\) Formatters\(\) Formatters](<#func-modelt-formatters>)
  - [func \(m Model\[T\]\) HasArgs\(\) bool](<#func-modelt-hasargs>)
  - [func \(m \*Model\[T\]\) Init\(\) tea.Cmd](<#func-modelt-init>)
  - [func \(m Model\[T\]\) LastArg\(\) \*ident](<#func-modelt-lastarg>)
  - [func \(m \*Model\[T\]\) NewFlagPlaceholder\(placeholder string\) FlagPlaceholder](<#func-modelt-newflagplaceholder>)
  - [func \(m \*Model\[T\]\) NewPositionalArg\(placeholder string\) PositionalArg](<#func-modelt-newpositionalarg>)
  - [func \(m \*Model\[T\]\) NewPositionalArgs\(placeholders ...string\) \[\]PositionalArg](<#func-modelt-newpositionalargs>)
  - [func \(m \*Model\[T\]\) OnExecutorFinished\(\)](<#func-modelt-onexecutorfinished>)
  - [func \(m \*Model\[T\]\) OnSuggestionChanged\(suggestion suggestion.Suggestion\[T\]\)](<#func-modelt-onsuggestionchanged>)
  - [func \(m \*Model\[T\]\) OnSuggestionUnselected\(\)](<#func-modelt-onsuggestionunselected>)
  - [func \(m \*Model\[T\]\) OnUpdateFinish\(msg tea.Msg, suggestion \*suggestion.Suggestion\[T\], isSelected bool\) tea.Cmd](<#func-modelt-onupdatefinish>)
  - [func \(m \*Model\[T\]\) OnUpdateStart\(msg tea.Msg\) tea.Cmd](<#func-modelt-onupdatestart>)
  - [func \(m \*Model\[T\]\) ParsedValue\(\) Statement](<#func-modelt-parsedvalue>)
  - [func \(m \*Model\[T\]\) Prompt\(\) string](<#func-modelt-prompt>)
  - [func \(m \*Model\[T\]\) ResetValue\(\)](<#func-modelt-resetvalue>)
  - [func \(m \*Model\[T\]\) Runes\(\) \[\]rune](<#func-modelt-runes>)
  - [func \(m \*Model\[T\]\) SetCursor\(pos int\)](<#func-modelt-setcursor>)
  - [func \(m \*Model\[T\]\) SetCursorMode\(cursorMode cursor.Mode\) tea.Cmd](<#func-modelt-setcursormode>)
  - [func \(m \*Model\[T\]\) SetFormatters\(formatters Formatters\)](<#func-modelt-setformatters>)
  - [func \(m \*Model\[T\]\) SetPrompt\(prompt string\)](<#func-modelt-setprompt>)
  - [func \(m \*Model\[T\]\) SetValue\(s string\)](<#func-modelt-setvalue>)
  - [func \(m \*Model\[T\]\) ShouldClearSuggestions\(prevText \[\]rune, msg tea.KeyMsg\) bool](<#func-modelt-shouldclearsuggestions>)
  - [func \(m \*Model\[T\]\) ShouldSelectSuggestion\(suggestion suggestion.Suggestion\[T\]\) bool](<#func-modelt-shouldselectsuggestion>)
  - [func \(m \*Model\[T\]\) ShouldUnselectSuggestion\(prevRunes \[\]rune, msg tea.KeyMsg\) bool](<#func-modelt-shouldunselectsuggestion>)
  - [func \(m \*Model\[T\]\) SuggestionRunes\(runes \[\]rune\) \[\]rune](<#func-modelt-suggestionrunes>)
  - [func \(m Model\[T\]\) Tokens\(\) \[\]input.Token](<#func-modelt-tokens>)
  - [func \(m \*Model\[T\]\) Value\(\) string](<#func-modelt-value>)
  - [func \(m Model\[T\]\) View\(viewMode input.ViewMode\) string](<#func-modelt-view>)
- [type Option](<#type-option>)
  - [func WithCursorMode[T CmdMetadataAccessor](cursorMode cursor.Mode) Option[T]](<#func-withcursormode>)
  - [func WithDefaultDelimiter[T CmdMetadataAccessor](defaultDelimiter string) Option[T]](<#func-withdefaultdelimiter>)
  - [func WithFormatters[T CmdMetadataAccessor](formatters Formatters) Option[T]](<#func-withformatters>)
  - [func WithPrompt[T CmdMetadataAccessor](prompt string) Option[T]](<#func-withprompt>)
- [type PositionalArg](<#type-positionalarg>)
  - [func \(p PositionalArg\) Placeholder\(\) string](<#func-positionalarg-placeholder>)
- [type PositionalArgFormatter](<#type-positionalargformatter>)
- [type RoundingBehavior](<#type-roundingbehavior>)
- [type Statement](<#type-statement>)
- [type TokenPos](<#type-tokenpos>)


## Variables

```go
var DefaultBoolFlagForeground = "13"
```

```go
var DefaultCurrentPlaceholderSuggestion = "240"
```

```go
var DefaultFlagForeground = "245"
```

```go
var DefaultFlagPlaceholderForeground = "14"
```

```go
var DefaultNumberFlagForeground = "5"
```

```go
var DefaultPlaceholderForeground = "14"
```

```go
var DefaultSelectedTextColor = "10"
```

## type [Arg](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/parser.go#L51-L54>)

```go
type Arg struct {
    Start int
    Value string
}
```

## type [CmdMetadata](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L11-L17>)

```go
type CmdMetadata struct {
    PositionalArgs      []PositionalArg
    ShowFlagPlaceholder bool
    FlagPlaceholder     FlagPlaceholder
    Level               int
    PreservePlaceholder bool
}
```

### func [MetadataFromPositionalArgs](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L19>)

```go
func MetadataFromPositionalArgs(positionalArgs ...PositionalArg) CmdMetadata
```

### func \(CmdMetadata\) [GetFlagPlaceholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L29>)

```go
func (m CmdMetadata) GetFlagPlaceholder() FlagPlaceholder
```

### func \(CmdMetadata\) [GetLevel](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L37>)

```go
func (m CmdMetadata) GetLevel() int
```

### func \(CmdMetadata\) [GetPositionalArgs](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L25>)

```go
func (m CmdMetadata) GetPositionalArgs() []PositionalArg
```

### func \(CmdMetadata\) [GetPreservePlaceholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L41>)

```go
func (m CmdMetadata) GetPreservePlaceholder() bool
```

### func \(CmdMetadata\) [GetShowFlagPlaceholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L33>)

```go
func (m CmdMetadata) GetShowFlagPlaceholder() bool
```

## type [CmdMetadataAccessor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/cmdmetadata.go#L3-L9>)

```go
type CmdMetadataAccessor interface {
    GetPositionalArgs() []PositionalArg
    GetFlagPlaceholder() FlagPlaceholder
    GetLevel() int
    GetPreservePlaceholder() bool
    GetShowFlagPlaceholder() bool
}
```

## type [Flag](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/parser.go#L101-L104>)

```go
type Flag struct {
    Name  input.Token
    Value *input.Token
}
```

## type [FlagFormatter](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/formatters.go#L18-L21>)

```go
type FlagFormatter struct {
    Flag        lipgloss.Style
    Placeholder lipgloss.Style
}
```

## type [FlagInput](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L44-L49>)

```go
type FlagInput struct {
    Short       string
    Long        string
    Placeholder FlagPlaceholder
    Description string
}
```

### func \(FlagInput\) [LongFlag](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L58>)

```go
func (f FlagInput) LongFlag() string
```

### func \(FlagInput\) [RequiresArg](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L65>)

```go
func (f FlagInput) RequiresArg() bool
```

### func \(FlagInput\) [ShortFlag](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L51>)

```go
func (f FlagInput) ShortFlag() string
```

## type [FlagPlaceholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L39-L42>)

```go
type FlagPlaceholder struct {
    Style lipgloss.Style
    // contains filtered or unexported fields
}
```

## type [FlagValueFormatter](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/formatters.go#L23-L27>)

```go
type FlagValueFormatter struct {
    String lipgloss.Style
    Bool   lipgloss.Style
    Number lipgloss.Style
}
```

## type [Formatters](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/formatters.go#L29-L38>)

```go
type Formatters struct {
    PositionalArg PositionalArgFormatter
    Flag          FlagFormatter
    FlagValue     FlagValueFormatter
    Placeholder   lipgloss.Style
    Prompt        lipgloss.Style
    Text          lipgloss.Style
    SelectedText  lipgloss.Style
    Cursor        lipgloss.Style
}
```

### func [DefaultFormatters](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/formatters.go#L40>)

```go
func DefaultFormatters() Formatters
```

## type [Model](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L71-L88>)

A Model is an input for handling CLI-style inputs.
It provides advanced features such as placeholders and context-aware suggestions.

```go
type Model[T CmdMetadataAccessor] struct {
    // contains filtered or unexported fields
}
```

### func [New](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L104>)

```go
func New[T CmdMetadataAccessor](opts ...Option[T]) *Model[T]
```

New creates a new model.

### func \(Model\[T\]\) [AllTokensBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L542>)

```go
func (m Model[T]) AllTokensBeforeCursor() []input.Token
```

### func \(Model\[T\]\) [AllValues](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L572>)

```go
func (m Model[T]) AllValues() []string
```

### func \(Model\[T\]\) [AllValuesBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L549>)

```go
func (m Model[T]) AllValuesBeforeCursor() []string
```

### func \(\*Model\[T\]\) [ArgsBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L205>)

```go
func (m *Model[T]) ArgsBeforeCursor() []string
```

ArgsBeforeCursor returns the positional arguments before the cursor position.

### func \(\*Model\[T\]\) [Blur](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L723>)

```go
func (m *Model[T]) Blur()
```

### func \(\*Model\[T\]\) [CommandBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L510>)

```go
func (m *Model[T]) CommandBeforeCursor() string
```

### func \(Model\[T\]\) [CommandCompleted](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L715>)

```go
func (m Model[T]) CommandCompleted() bool
```

### func \(\*Model\[T\]\) [CompletedArgsBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L219>)

```go
func (m *Model[T]) CompletedArgsBeforeCursor() []string
```

CompletedArgsBeforeCursor returns the positional arguments before the cursor that have already been completed.
In other words, there needs to be a delimiter after the argument to indicate that the user has finished entering in that argument.

### func \(Model\[T\]\) [CurrentToken](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L694>)

```go
func (m Model[T]) CurrentToken() string
```

### func \(Model\[T\]\) [CurrentTokenBeforeCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L672>)

```go
func (m Model[T]) CurrentTokenBeforeCursor() string
```

### func \(Model\[T\]\) [CurrentTokenBeforeCursorRoundDown](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L676>)

```go
func (m Model[T]) CurrentTokenBeforeCursorRoundDown() string
```

### func \(Model\[T\]\) [CurrentTokenPos](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L627>)

```go
func (m Model[T]) CurrentTokenPos() TokenPos
```

### func \(Model\[T\]\) [CurrentTokenPosRoundDown](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L631>)

```go
func (m Model[T]) CurrentTokenPosRoundDown() TokenPos
```

### func \(Model\[T\]\) [CurrentTokenRoundDown](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L698>)

```go
func (m Model[T]) CurrentTokenRoundDown() string
```

### func \(Model\[T\]\) [CursorIndex](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L581>)

```go
func (m Model[T]) CursorIndex() int
```

### func \(Model\[T\]\) [CursorOffset](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L585>)

```go
func (m Model[T]) CursorOffset() int
```

### func \(\*Model\[T\]\) [FlagSuggestions](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L255>)

```go
func (m *Model[T]) FlagSuggestions(inputStr string, flags []FlagInput, suggestionFunc func(FlagInput) T) []suggestion.Suggestion[T]
```

FlagSuggestions generates a slice of [suggestion.Suggestion](/suggestion/api#type-suggestion) based on the input string and the slice of [FlagInput](/input/commandinput/api#type-flaginput) supplied.
The last parameter can be used to customize the metadata for the returned suggestions.

<details><summary>Example</summary>
<p>

```go
package main

import (
	"fmt"

	"github.com/aschey/bubbleprompt/input/commandinput"
)

func main() {
	textInput := commandinput.New[commandinput.CmdMetadata]()
	flags := []commandinput.FlagInput{
		{
			Short:       "i",
			Long:        "interval",
			Description: "refresh interval",
			Placeholder: textInput.NewFlagPlaceholder("<value>"),
		},
	}

	suggestions := textInput.FlagSuggestions("", flags, nil)
	fmt.Printf("Text: %s, Description: %s\n", suggestions[0].Text, suggestions[0].Description)

	suggestions = textInput.FlagSuggestions("--", flags, nil)
	fmt.Printf("Text: %s, Description: %s\n", suggestions[0].Text, suggestions[0].Description)

	suggestions = textInput.FlagSuggestions("", flags,
		func(flagInput commandinput.FlagInput) commandinput.CmdMetadata {
			return commandinput.CmdMetadata{
				FlagPlaceholder:     flagInput.Placeholder,
				PreservePlaceholder: true,
			}
		})
	fmt.Printf("Text: %s, Description: %s, Preserve Placeholder: %t\n",
		suggestions[0].Text, suggestions[0].Description, suggestions[0].Metadata.PreservePlaceholder)

}
```

#### Output

```
Text: -i, Description: refresh interval
Text: --interval, Description: refresh interval
Text: -i, Description: refresh interval, Preserve Placeholder: true
```

</p>
</details>

### func \(\*Model\[T\]\) [Focus](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L484>)

```go
func (m *Model[T]) Focus() tea.Cmd
```

Focus sets the keyboard focus on the editor so the user can enter text.

### func \(Model\[T\]\) [Focused](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L489>)

```go
func (m Model[T]) Focused() bool
```

Focused returns whether the keyboard is focused on the input.

### func \(Model\[T\]\) [Formatters](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L137>)

```go
func (m Model[T]) Formatters() Formatters
```

Formatters returns the formatters used by the input.

### func \(Model\[T\]\) [HasArgs](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L690>)

```go
func (m Model[T]) HasArgs() bool
```

### func \(\*Model\[T\]\) [Init](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L127>)

```go
func (m *Model[T]) Init() tea.Cmd
```

Init is part of the Input interface. It should not be invoked by users of this library.

### func \(Model\[T\]\) [LastArg](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L707>)

```go
func (m Model[T]) LastArg() *ident
```

### func \(\*Model\[T\]\) [NewFlagPlaceholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L160>)

```go
func (m *Model[T]) NewFlagPlaceholder(placeholder string) FlagPlaceholder
```

NewFlagPlaceholder creates a flag placeholder for completions.

### func \(\*Model\[T\]\) [NewPositionalArg](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L142>)

```go
func (m *Model[T]) NewPositionalArg(placeholder string) PositionalArg
```

NewPositionalArg creates a positional arg placeholder for completions.

### func \(\*Model\[T\]\) [NewPositionalArgs](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L151>)

```go
func (m *Model[T]) NewPositionalArgs(placeholders ...string) []PositionalArg
```

NewPositionalArgs creates multiple positional arg placeholders for completions.

### func \(\*Model\[T\]\) [OnExecutorFinished](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L727>)

```go
func (m *Model[T]) OnExecutorFinished()
```

### func \(\*Model\[T\]\) [OnSuggestionChanged](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L426>)

```go
func (m *Model[T]) OnSuggestionChanged(suggestion suggestion.Suggestion[T])
```

OnSuggestionChanged is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [OnSuggestionUnselected](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L470>)

```go
func (m *Model[T]) OnSuggestionUnselected()
```

OnSuggestionUnselected is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [OnUpdateFinish](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L348>)

```go
func (m *Model[T]) OnUpdateFinish(msg tea.Msg, suggestion *suggestion.Suggestion[T], isSelected bool) tea.Cmd
```

OnUpdateFinish is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [OnUpdateStart](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L239>)

```go
func (m *Model[T]) OnUpdateStart(msg tea.Msg) tea.Cmd
```

OnUpdateStart is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [ParsedValue](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L506>)

```go
func (m *Model[T]) ParsedValue() Statement
```

ParsedValue returns the input parsed into a [Statement](/input/commandinput/api#type-statement).

### func \(\*Model\[T\]\) [Prompt](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L599>)

```go
func (m *Model[T]) Prompt() string
```

### func \(\*Model\[T\]\) [ResetValue](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L529>)

```go
func (m *Model[T]) ResetValue()
```

### func \(\*Model\[T\]\) [Runes](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L501>)

```go
func (m *Model[T]) Runes() []rune
```

Runes returns the raw text entered by the user as a list of runes.
This is useful for indexing and length checks because doing these
operations on strings does not work well with some unicode characters.

### func \(\*Model\[T\]\) [SetCursor](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L591>)

```go
func (m *Model[T]) SetCursor(pos int)
```

### func \(\*Model\[T\]\) [SetCursorMode](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L595>)

```go
func (m *Model[T]) SetCursorMode(cursorMode cursor.Mode) tea.Cmd
```

### func \(\*Model\[T\]\) [SetFormatters](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L132>)

```go
func (m *Model[T]) SetFormatters(formatters Formatters)
```

SetFormatters sets the formatters used by the input.

### func \(\*Model\[T\]\) [SetPrompt](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L603>)

```go
func (m *Model[T]) SetPrompt(prompt string)
```

### func \(\*Model\[T\]\) [SetValue](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L519>)

```go
func (m *Model[T]) SetValue(s string)
```

### func \(\*Model\[T\]\) [ShouldClearSuggestions](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L200>)

```go
func (m *Model[T]) ShouldClearSuggestions(prevText []rune, msg tea.KeyMsg) bool
```

ShouldClearSuggestions is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [ShouldSelectSuggestion](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L168>)

```go
func (m *Model[T]) ShouldSelectSuggestion(suggestion suggestion.Suggestion[T]) bool
```

ShouldSelectSuggestion is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [ShouldUnselectSuggestion](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L176>)

```go
func (m *Model[T]) ShouldUnselectSuggestion(prevRunes []rune, msg tea.KeyMsg) bool
```

ShouldUnselectSuggestion is part of the Input interface. It should not be invoked by users of this library.

### func \(\*Model\[T\]\) [SuggestionRunes](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L475>)

```go
func (m *Model[T]) SuggestionRunes(runes []rune) []rune
```

SuggestionRunes is part of the Input interface. It should not be invoked by users of this library.

### func \(Model\[T\]\) [Tokens](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L538>)

```go
func (m Model[T]) Tokens() []input.Token
```

### func \(\*Model\[T\]\) [Value](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L494>)

```go
func (m *Model[T]) Value() string
```

Value returns the raw text entered by the user.

### func \(Model\[T\]\) [View](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L729>)

```go
func (m Model[T]) View(viewMode input.ViewMode) string
```

## type [Option](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/option.go#L5>)

```go
type Option[T CmdMetadataAccessor] func(model *Model[T])
```

### func [WithCursorMode](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/option.go#L25>)

```go
func WithCursorMode[T CmdMetadataAccessor](cursorMode cursor.Mode) Option[T]
```

### func [WithDefaultDelimiter](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/option.go#L19>)

```go
func WithDefaultDelimiter[T CmdMetadataAccessor](defaultDelimiter string) Option[T]
```

### func [WithFormatters](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/option.go#L13>)

```go
func WithFormatters[T CmdMetadataAccessor](formatters Formatters) Option[T]
```

### func [WithPrompt](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/option.go#L7>)

```go
func WithPrompt[T CmdMetadataAccessor](prompt string) Option[T]
```

## type [PositionalArg](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L29-L33>)

```go
type PositionalArg struct {
    PlaceholderStyle lipgloss.Style
    ArgStyle         lipgloss.Style
    // contains filtered or unexported fields
}
```

### func \(PositionalArg\) [Placeholder](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L35>)

```go
func (p PositionalArg) Placeholder() string
```

## type [PositionalArgFormatter](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/formatters.go#L13-L16>)

```go
type PositionalArgFormatter struct {
    Placeholder lipgloss.Style
    Arg         lipgloss.Style
}
```

## type [RoundingBehavior](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L96>)

```go
type RoundingBehavior int
```

## type [Statement](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/parser.go#L32-L36>)

```go
type Statement struct {
    Command input.Token
    Args    []input.Token
    Flags   []Flag
}
```

## type [TokenPos](<https://github.com/aschey/bubbleprompt/blob/main/input/commandinput/model.go#L90-L94>)

```go
type TokenPos struct {
    Start int
    End   int
    Index int
}
```

</div>

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
